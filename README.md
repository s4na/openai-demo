# OpenAI Voice Chat

OpenAI APIを使った音声対話型チャットアプリケーションです。ブラウザで音声認識（STT）とテキスト読み上げ（TTS）を使ってAIと自然に会話できます。

https://s4na.github.io/openai-demo

## 特徴

- **音声認識（STT）**: マイクボタンを押して話すと、音声がテキストに変換されます
- **テキスト読み上げ（TTS）**: AIの返答を自動的に音声で読み上げます
- **チャット表示**: 会話の内容はすべてチャットウィンドウに表示されます
- **テキスト入力**: 音声だけでなく、キーボードからもメッセージを送信できます
- **読み上げON/OFF**: TTS機能の切り替えが可能です
- **プライバシー重視**: APIキーはブラウザのローカルストレージにのみ保存されます

## 必要なもの

- OpenAI APIキー（[OpenAI Platform](https://platform.openai.com/api-keys)で取得）
- モダンなWebブラウザ（Chrome、Edge、Safariを推奨）
  - 音声認識にはWeb Speech APIをサポートするブラウザが必要です

## 使い方

### 1. APIキーの設定

1. サイトを開きます
2. OpenAI APIキーを入力フィールドに貼り付けます
3. 「保存」ボタンをクリックします

### 2. 音声で会話

1. マイクボタン（🎤）をクリックします
2. ブラウザがマイクの使用許可を求めたら「許可」を選択します
3. 話しかけます
4. 認識されたテキストがチャットに表示され、自動的にAIに送信されます
5. AIの返答が音声で読み上げられ、チャットにも表示されます

### 3. テキストで会話

1. メッセージ入力欄にテキストを入力します
2. 「送信」ボタンをクリックするか、Enterキーを押します
3. AIの返答が音声で読み上げられ、チャットに表示されます

### 4. 読み上げの切り替え

- 「🔊 読み上げON」ボタンをクリックすると、TTS機能をオフにできます
- もう一度クリックすると、再度オンになります

## GitHub Pagesへのデプロイ

このプロジェクトはGitHub Pagesで簡単にホスティングできます。

### デプロイ手順

1. GitHubリポジトリの「Settings」タブを開きます
2. 左サイドバーの「Pages」をクリックします
3. 「Source」で「Deploy from a branch」を選択します
4. 「Branch」で以下を選択します：
   - ブランチ: `main`（またはindex.htmlがあるブランチ）
   - フォルダ: `/ (root)`
5. 「Save」をクリックします
6. 数分後、`https://<username>.github.io/<repository-name>/`でサイトが公開されます

## 技術スタック

- **HTML5**: ページ構造
- **CSS3**: スタイリング（グラデーション、アニメーション）
- **JavaScript (ES6+)**: ロジック実装
- **Web Speech API**: 音声認識（SpeechRecognition）と音声合成（SpeechSynthesis）
- **OpenAI API**: GPT-3.5-turboモデルを使用したチャット機能

## ブラウザ互換性

| 機能 | Chrome | Edge | Safari | Firefox |
|------|--------|------|--------|---------|
| 音声認識 (STT) | ✅ | ✅ | ✅ | ❌* |
| 音声合成 (TTS) | ✅ | ✅ | ✅ | ✅ |
| チャット機能 | ✅ | ✅ | ✅ | ✅ |

\* Firefoxは標準でWeb Speech APIの音声認識をサポートしていません

## セキュリティについて

- APIキーは`localStorage`にのみ保存され、外部サーバーには送信されません
- すべてのAPI通信はHTTPSで暗号化されています
- APIキーは絶対に他人と共有しないでください
- 公開リポジトリにAPIキーをコミットしないように注意してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## トラブルシューティング

### 音声認識が動作しない

- ブラウザがマイクへのアクセス許可を求めていないか確認してください
- HTTPSまたはlocalhostでアクセスしているか確認してください（音声認識はセキュアなコンテキストでのみ動作します）
- Chrome、Edge、Safariなどの対応ブラウザを使用しているか確認してください

### APIエラーが発生する

- APIキーが正しく入力されているか確認してください
- OpenAIアカウントに十分なクレジットがあるか確認してください
- ネットワーク接続を確認してください

### 音声が読み上げられない

- 「読み上げON」になっているか確認してください
- デバイスの音量を確認してください
- ブラウザの音声設定を確認してください

## 今後の改善案

- [ ] 会話履歴のエクスポート機能
- [ ] 異なる言語のサポート
- [ ] カスタムプロンプトの設定
- [ ] 音声の速度・ピッチ調整
- [ ] GPT-4など他のモデルのサポート
- [ ] ダークモード対応
